<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html >
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	lang="#{ismsBean.language}"
	>
<f:view locale="#{ismsBean.locale}" contentType="text/html">
	<h:head>
		<title>#{ismsBean.partenaire.appliname} | #{msg['adminLogin.title']}</title>

		<h:outputStylesheet
			library="css"
			name="index.css" />

		<link
			rel="shortcut icon"
			type="image/png"
			href="#{request.contextPath}/resources/img/iplans_icon#{ismsBean.partenaire.id}.png" />


	</h:head>

	<h:body>

		<div id="bloc_page">
			<header>

				<div>
					<h:graphicImage
						style="margin-top:7px"
						id="logo"
						library="img"
						name="isms_logo_original#{ismsBean.partenaire.id}.png"
						alt="Enete iSMS" />
					<br /> <br /> <br /> <br />
				</div>

			</header>

			<section id="login">
				<h:form id="adminConnexionForm">

					<p:panel
						id="connexion"
						header="iSMS | #{msg['adminLogin.panel.seconnecter']}"
						style="margin:auto">

						<h:panelGrid
							columns="2"
							cellpadding="10">
							<p:outputLabel
								for="login"
								value="#{msg['adminLogin.p.Login']} : " />
							<p:inputText
								id="login"
								value="#{ismsBean.utilisateurConnecte.login}"
								required="true"
								requiredMessage="empty login!" />

							<p:outputLabel
								for="password"
								value="#{msg['adminLogin.p.pwd']} : " />
							<p:password
								id="password"
								value="#{ismsBean.utilisateurConnecte.password}"
								required="true"
								requiredMessage="empty password!" />

						</h:panelGrid>

						<f:facet name="footer">
							<p:commandButton
								id="auth"
								value="#{msg['adminLogin.commandButton.Connexion']}"
								action="#{ismsBean.authentification()}"
								actionListener="#{ismsBean.onFailed()}"
								update="connexion"
								style="font-weight:bold"
								icon="ui-icon-check" />

							<p:messages
								id="connexionMsg"
								autoUpdate="true"
								showIcon="false"
								showSummary="false"
								showDetail="true"
								closable="true" />

							<div id="signIn">
								<a href="#{request.contextPath}/security/clientLogin.xhtml">
									#{msg['adminLogin.link.Client']} </a>
							</div>

						</f:facet>

					</p:panel>
					
				    <p:blockUI block="adminConnexionForm" trigger="auth">
				        #{msg['adminLogin.blockUI.messageconfirmation']}...<br />
				        <p:graphicImage name="#{request.contextPath}/resources/img/loader.gif"/>
				    </p:blockUI>

				</h:form>

			</section>

			<footer>

				<div id="copyrights">
					<p>#{ismsBean.partenaire.nom} #{ismsBean.partenaire.adresse} </p>
					<p>#{ismsBean.partenaire.tel1} #{ismsBean.partenaire.email}</p>

					<p>Copyright iPLANS SA - #{msg['adminLogin.p.footer.droits']}</p>
				</div>
			</footer>

		</div>
	</h:body>
</f:view>
</html>

